tag:blogger.com,1999:blog-6671019398434141469.post-74930194993846946662015-09-21T15:28:00.000+02:002015-09-21T15:28:07.332+02:00Groovy Goodness: Turn Method Parameters Into Named Map Arguments With IntelliJ IDEA<p>A very useful feature in Groovy is the use of named arguments. Instead of a list of arguments for a method or constructor we can use a <code>Map</code> argument. If the argument is the first in the list of arguments then Groovy allows use to use named arguments when we invoke the method or constructor. This means all key/value arguments are gathered together and assigned to the <code>Map</code> argument. Inside our method or constructor we can then access the <code>Map</code> argument and get the values for the keys. This leads to better readable code and that is very useful. IntelliJ IDEA has a Groovy intention to turn method parameters into a <code>Map</code> parameter for named arguments with a few mouse clicks.</p><p>Suppose we have the following source code with a <code>simple</code> method definition, 2 arguments, and the invocation of the method:</p><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-d1IKOQ4a-iw/VgAFcSB1tOI/AAAAAAAALVs/oUxpf7SvY5E/s1600/idea-args-map1.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://4.bp.blogspot.com/-d1IKOQ4a-iw/VgAFcSB1tOI/AAAAAAAALVs/oUxpf7SvY5E/s400/idea-args-map1.png" /></a></div><p style="clear:both;">Now we activate the Groovy intentions (for me it is <kbd>Alt+Enter</kbd> or try <kdb>Shift+Shift</kdb> and type <em>Show intentions actions</em>) while we place the cursor on the parameter <code>greeting</code>. We select the option <em>Convert parameter to map entry</em>:</p><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-PzAKX7HudOg/VgAFlKPDSiI/AAAAAAAALVw/WLt_VioAKnk/s1600/idea-args-map1a.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-PzAKX7HudOg/VgAFlKPDSiI/AAAAAAAALVw/WLt_VioAKnk/s400/idea-args-map1a.png" /></a></div><p style="clear:both;">IntelliJ IDEA opens a new dialog. Here we can choose to create a new <code>Map</code> parameter for named arguments. If our method would have a <code>Map</code> argument already we can re-use it. We can let IDEA add the <code>Map</code> type or leave it out. Finally we can change the name of the parameter. In our example we have changed it to <code>conf</code>:</p><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-f2tFC9eorDk/VgAFotSZIfI/AAAAAAAALV4/ZSFI1E8IQP0/s1600/idea-args-map2.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://4.bp.blogspot.com/-f2tFC9eorDk/VgAFotSZIfI/AAAAAAAALV4/ZSFI1E8IQP0/s400/idea-args-map2.png" /></a></div><p style="clear:both;">When we click the <em>OK</em> button we see our source code has changed. Not only the method signature of the <code>simple</code> method, but also the invocation has changed:</p><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-DOgUWSyo1wE/VgAFsSV42GI/AAAAAAAALWA/fyAkOhvNhVk/s1600/idea-args-map3.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/-DOgUWSyo1wE/VgAFsSV42GI/AAAAAAAALWA/fyAkOhvNhVk/s400/idea-args-map3.png" /></a></div><p style="clear:both;">We can re-apply the same intention for the <code>username</code> parameter and we get the following code:</p><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-oE4YbBm-M4c/VgAFveNzIoI/AAAAAAAALWI/DQXTUL3hf7A/s1600/idea-args-map4.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-oE4YbBm-M4c/VgAFveNzIoI/AAAAAAAALWI/DQXTUL3hf7A/s400/idea-args-map4.png" /></a></div><p style="clear:both;">Written with IntelliJ IDEA CE 14.1.4.</p>Hubert Klein Ikkinkhttps://plus.google.com/116304108087638220732noreply@blogger.com0